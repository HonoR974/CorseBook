
<div class="list">

    <div *ngFor="let event of events " class="cadre " >


            <div class="side-name">
                {{event.name}}
            </div>
      
            <div class="line-toggle">
    
                <div class="btn-toggle">
                    <mat-slide-toggle 
                    [(ngModel)]="event.checkedMarker" 
                    >
                    </mat-slide-toggle>
             
                </div>
                  
            </div>
            
        
            <div class="toggle">
                <div *ngIf="!event.checkedMarker" class="side-file">

                <ngb-carousel 
                [showNavigationArrows]="true" 
                    [showNavigationIndicators]="true"
                    [interval]="20000"
                    [keyboard]="true"
                    [pauseOnHover]="true"
                    [wrap]="true"
                    [activeId]="'sliderThree'">
                        <ng-template ngbSlide *ngFor="let image of event.listFileAPI"> 
                            <div class="picsum-img-wrapper">
                                <img [src]="image.url" [alt]="image.name">
                            </div>
                            <div class="carousel-caption">
                                <!-- 
                                <h3>Title</h3>
                                <p>Aenean malesuada nisi ut commodo semper.</p>
                                -->
                            </div>
    
    
                        </ng-template>
    
                    
    
                    </ngb-carousel>
                </div>
    
                <div *ngIf="event.checkedMarker" class="side-map"> 

                    <div >
                        <agm-map  [latitude]="lat" [longitude]="lng">

                            <agm-marker *ngFor="let marker of event.listMarker"
                            [latitude]="marker.latitude"
                            [longitude]="marker.longitude"
                            [label]="marker.label">
                            
                            </agm-marker>
                
                        </agm-map>
                    </div>
                    
                    </div>
            </div>

            <div class="content">

                <div class="section-content">
                  <div>Date debut   {{event.dateDebut}}</div>
                  <div>Date fin : {{event.dateFin}}</div> 
                </div>
    
             
                <div class="section-content">
                   <p>Content : {{event.contenu}}</p> 
                </div>
                
            </div>
  

            <div class="line-button">
             
                <!-- btn Participer -->
                <p-button type="button" 
                        styleClass="p-button-success "
                        matTooltip="Participer Ã  l'evenement "
                        [disabled]="event.isParticiped"
                        icon="pi pi-user-plus"
                        (click)="addParticipant(event.id)">
             
                </p-button>


                <!-- btn Commenter -->
                <button type="button" class="btn btn-info" [disabled]=""
                matTooltip="Commenter"
                
                  (click)="getComments(event.id)">

                    <mat-icon>comment</mat-icon>
                   
                </button>

            </div>



            

             <!------------- Comments -------------> 
        <div   class="cadreComment" >

            <!-- Affichage -->
            <div *ngFor="let comment of event.listComments"> 

                <div  class="comment">
                    <p>{{comment.username}}</p>
                    <p>{{comment.contenu}}</p>
                     Date : {{comment.dateCreated}}


                    <!-- Liked -->
                    <button type="button" class="btn btn-info"  
                    matTooltip="Like" *ngIf="comment.liked" 
                    (click)="commentLiked(comment.id)"
                      >

                        <mat-icon>favorite</mat-icon>{{comment.countLike}}
                    </button>
    

                </div>

                
            </div>
     

            <!-- Create -->

            <div class="createComment">
                <form  [formGroup]="commentForm" (ngSubmit)="createComment(event.id)">
  
                    <div  class="form-group">
                        <label for="contenu">
                            Votre Commentaire : 
                        </label>
                        <input
                        formControlName="contenu"
                        id="contenu" 
                        type="text" 
                        class="form-control content"
                        placeholder="Participez">
    
                    </div>
    
                   <button class="btn btn-primary button" type="submit">Partager</button>
               
                </form>
            </div>

            
           
       
        </div>




    </div>
    
    
</div>


